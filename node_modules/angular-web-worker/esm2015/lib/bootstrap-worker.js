import { WorkerController } from './worker-controller';
/**
 * Bootstraps the worker class when a new worker script is created in the browser. The class must be decorated with `@AngularWebWorker()`
 * @param worker worker class to bootstrap
 */
export function bootstrapWorker(worker) {
    const messageBus = {
        onmessage: (ev) => {
        },
        postMessage: (msg) => {
            postMessage(msg);
        }
    };
    const workerController = new WorkerController(worker, messageBus);
    onmessage = (ev) => {
        messageBus.onmessage(ev);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vdHN0cmFwLXdvcmtlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItd2ViLXdvcmtlci8iLCJzb3VyY2VzIjpbImxpYi9ib290c3RyYXAtd29ya2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBR3ZEOzs7R0FHRztBQUNILE1BQU0sVUFBVSxlQUFlLENBQUksTUFBd0I7SUFFdkQsTUFBTSxVQUFVLEdBQXFCO1FBQ2pDLFNBQVMsRUFBRSxDQUFDLEVBQWdCLEVBQUUsRUFBRTtRQUNoQyxDQUFDO1FBQ0QsV0FBVyxFQUFFLENBQUMsR0FBYSxFQUFFLEVBQUU7WUFDMUIsV0FBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQyxDQUFDO0tBQ0osQ0FBQztJQUNGLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBSSxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFckUsU0FBUyxHQUFHLENBQUMsRUFBZ0IsRUFBRSxFQUFFO1FBQzdCLFVBQVUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgeyBXb3JrZXJDb250cm9sbGVyIH0gZnJvbSAnLi93b3JrZXItY29udHJvbGxlcic7XHJcbmltcG9ydCB7IFdlYldvcmtlclR5cGUsIFdvcmtlck1lc3NhZ2VCdXMgfSBmcm9tICdhbmd1bGFyLXdlYi13b3JrZXIvY29tbW9uJztcclxuXHJcbi8qKlxyXG4gKiBCb290c3RyYXBzIHRoZSB3b3JrZXIgY2xhc3Mgd2hlbiBhIG5ldyB3b3JrZXIgc2NyaXB0IGlzIGNyZWF0ZWQgaW4gdGhlIGJyb3dzZXIuIFRoZSBjbGFzcyBtdXN0IGJlIGRlY29yYXRlZCB3aXRoIGBAQW5ndWxhcldlYldvcmtlcigpYFxyXG4gKiBAcGFyYW0gd29ya2VyIHdvcmtlciBjbGFzcyB0byBib290c3RyYXBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBib290c3RyYXBXb3JrZXI8VD4od29ya2VyOiBXZWJXb3JrZXJUeXBlPFQ+KSB7XHJcblxyXG4gICAgY29uc3QgbWVzc2FnZUJ1czogV29ya2VyTWVzc2FnZUJ1cyA9IHtcclxuICAgICAgICBvbm1lc3NhZ2U6IChldjogTWVzc2FnZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3N0TWVzc2FnZTogKG1zZzogUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgKHBvc3RNZXNzYWdlIGFzIEZ1bmN0aW9uKShtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB3b3JrZXJDb250cm9sbGVyID0gbmV3IFdvcmtlckNvbnRyb2xsZXI8VD4od29ya2VyLCBtZXNzYWdlQnVzKTtcclxuXHJcbiAgICBvbm1lc3NhZ2UgPSAoZXY6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICAgIG1lc3NhZ2VCdXMub25tZXNzYWdlKGV2KTtcclxuICAgIH07XHJcbn1cclxuIl19